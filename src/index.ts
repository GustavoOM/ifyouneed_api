import "reflect-metadata";
import {createConnection} from "typeorm"
import * as express from "express";
import routes from "./routes";

import * as cors from 'cors';
import 'dotenv/config'

const ServerPort = process.env.PORT || 3333

const emojiList = Array.from('ðŸ¶ðŸ±ðŸ­ðŸ¹ðŸ°ðŸ¦ŠðŸ»ðŸ¼ðŸ¨ðŸ¯ðŸ¦ðŸ®ðŸ·ðŸ¸ðŸµðŸ™ˆðŸ™‰ðŸ™ŠðŸ’ðŸ”ðŸ§ðŸ¦ðŸ¤ðŸ£ðŸ¥ðŸ¦†ðŸ¦…ðŸ¦‰ðŸ¦‡ðŸºðŸ—ðŸ´ðŸ¦„ðŸðŸ›ðŸ¦‹ðŸŒðŸžðŸœðŸ¦ŸðŸ¦—ðŸ•·ðŸ¦‚ðŸ¢ðŸðŸ¦ŽðŸ¦–ðŸ¦•ðŸ™ðŸ¦‘ðŸ¦ðŸ¦žðŸ¦€ðŸ¡ðŸ ðŸŸðŸ¬ðŸ³ðŸ‹ðŸ¦ˆðŸŠðŸ…ðŸ†ðŸ¦“ðŸ¦ðŸ¦§ðŸ˜ðŸ¦›ðŸ¦ðŸªðŸ«ðŸ¦’ðŸ¦˜ðŸƒðŸ‚ðŸ„ðŸŽðŸ–ðŸðŸ‘ðŸ¦™ðŸðŸ¦ŒðŸ•ðŸ©ðŸ¦®ðŸ•â€ðŸ¦ºðŸˆðŸ“ðŸ¦ƒðŸ¦šðŸ¦œðŸ¦¢ðŸ¦©ðŸ•ŠðŸ‡ðŸ¦ðŸ¦¨ðŸ¦¡ðŸ¦¦ðŸ¦¥ðŸðŸ€ðŸ¿ðŸ¦”ðŸ‰ðŸ²')
const randomEmoji = emojiList[Math.floor(Math.random() * emojiList.length)]

const app = express();
createConnection()

app.use(cors())

app.use(express.json())
app.use(routes)

app.listen(ServerPort, () => {
  console.log(`\n${randomEmoji}  Server started on port ${ServerPort}!  ${randomEmoji}\n`)
})